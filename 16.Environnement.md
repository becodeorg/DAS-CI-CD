## Les Environnements GitLab CI/CD
---
Dans gitlab, il existe deux types d'environnements :

- Les environnements statiques
- Les environnements dynamiques
---

### Les Environnements Statiques
Les environnements statiques sont des environnements prédéfinis dans GitLab CI/CD. 
Ils sont généralement constants et représentent des étapes 
standard du cycle de vie d'une application, comme les environnements de développement, 
test et production. Ces environnements sont définis une fois et réutilisés tout au long du processus de développement.

---

```
deploy_staging:
  stage: deploy
  script:
    - echo "Deploy to staging server"
  environment:
    name: staging
    url: https://staging.example.com
```

### Environnements Dynamiques
Les environnements dynamiques, en revanche, sont générés à la volée en fonction de certaines conditions ou actions, 
comme la création d'une nouvelle branche ou d'une merge request. Ils sont extrêmement utiles pour des scénarios tels que le test de nouvelles fonctionnalités, 
où vous souhaitez créer un environnement de test unique pour chaque branche de fonctionnalité sans affecter l'environnement principal de test.

```
stages:
  - deploy

deploy_review:
  stage: deploy
  tags:
    - docker
  script: echo "Déploiement de l'environnement de revue pour $CI_COMMIT_REF_NAME"
  environment:
    name: review/$CI_COMMIT_REF_NAME
    url: https://$CI_COMMIT_REF_NAME.example.com
  rules:
    - if: $CI_COMMIT_REF_NAME == "main"
      when: never
    - if: $CI_COMMIT_REF_NAME == "develop"
      when: never
    - when: always
```
