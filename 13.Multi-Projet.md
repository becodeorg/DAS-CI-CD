# Multi-Project Pipeline 

Objectif :

* À partir d'un projet, déclencher le pipeline d'un autre projet.
* Transmettre une variable d'un gitlab-ci à un autre.

Doc : https://docs.gitlab.com/ee/ci/pipelines/multi_project_pipelines.html

   
## Création du projet pipe1 (Trigger)

```
stages:
  - s1
  - s2

j1:
  stage: s1
  image: docker
  script:
    - echo "Mon premier job !!!"
  tags:
    - docker

j2:
  variables:
    VAR1: "variable1"
    VAR2: "variable2"
  stage: s2
  trigger:
    project: becode/pipe2
    branch: main
    strategy: depend

```

## Création du projet pipe2 (Slave)
```
image: debian:latest
job1:
    rules:
        - if: $CI_PIPELINE_SOURCE == "pipeline"
    script:
        - echo $VAR1
        - echo $VAR2
    tags:
        - docker
```

Il est important de noter que bien que les pipelines multi-projets soient puissants, 
ils peuvent aussi ajouter de la complexité au processus de CI/CD. 
Il faut vraiment les utilser en fonction des besoins spécifiques 
de votre organisation et de votre architecture de projet.
